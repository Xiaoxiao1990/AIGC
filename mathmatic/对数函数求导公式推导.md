# 对数函数求导公式推导

最近因学习“机器学习”需要，所以重新开始复习数学，看到导数公式中有： $(log_ax)' = \frac{1}{xlna}$ 
那么，它是如何求得的呢？

初看上去好像完全无从下手，即使这个公式是作为“反函数求导法则”的一个典型例题在讲的。后面一步步推，感觉这个函数的求导法则差不多可以把前面的所有内容串在一起，所以这里做个记录，当是复习前面的内容。

下面进入正题。

由 **反函数求导法则（定理2）** 有$[f^{-1}(x)]'=\frac{1}{f'(x)}$，即反函数的导函数是原函数的导函数的倒数。

这个结论比较容易证明，这里只简单提一下。由导数定义可知 $f'(x) = \lim\limits_{\Delta x\rarr 0}\frac{\Delta y}{\Delta x}$ ，因为反函数的定义域是原函数的值域，原函数的值域是反函数的定义域，运算法则互为逆运算（函数定义）。因此反函数的 $\Delta x$ 即为原函数的 $\Delta y$ ；反函数的 $\Delta y$ 也就是反函数的 $\Delta x$ . 又因为 $\Delta y \neq 0$ ，否则导数不存在，也没有求导数的意义。 $$\because f'(x) = \lim\limits_{\Delta x\rarr 0}\frac{\Delta y}{\Delta x}$$

$$ [f^{-1}(x)]'=\lim\limits_{\Delta y\rarr 0}\frac{\Delta x}{\Delta y} = \lim\limits_{\Delta x\rarr 0}\frac{1}{\frac{\Delta y}{\Delta x}} = \frac{1}{\lim\limits_{\Delta x\rarr 0}\frac{\Delta y}{\Delta x}}=\frac{1}{f'(x)}$$

$$\therefore [f^{-1}(x)]'=\frac{1}{f'(x)}$$

有了这个定理在，那么可以假设 $y=log_ax$ ，所以 $x=a^y$ 。因此只要求出 $(a^y)'$ 就可以得到 $(log_ax)'$ 了。

$a^y$ 就是指数函数了。因此只需要求指数函数的导函数即可。这里不用纠结它的自变量是 $y$ 而不是我们常见的 $x$ 。这里可以解理成一样的，就是在求 $f(x)=a^x$ 的导函数。当然通过背公式有 $(a^x)'=a^xlna$ ，那这个公式又是怎么来的呢？下面就要继续求指数函数的导函数。

求指数函数的导函数需要跟据导函数的定义进行求解。

即 $(a^x)' = \lim\limits_{x\rarr x_0}\frac{f(x+x_0) - f(x_0)}{x-x0} = \lim\limits_{\Delta x\rarr 0}\frac{f(x+\Delta x) - f(x)}{\Delta x}$ 这里变换的根据是 $\Delta x = x - x_0$ 。为了让公式好看一点，把 $\Delta x$ 换成 $h$ 则有 $$(a^x)'=\lim\limits_{h\rarr 0}\frac{f(x+h) - f(x)}{h} = \lim\limits_{h\rarr 0}\frac{a^xa^h - a^h}{h}=a^x\lim\limits_{h\rarr 0}\frac{a^h-1}{h}$$

到了这一步似乎卡住了，如何求 $\lim\limits_{h\rarr 0}\frac{a^h-1}{h}$ 成了问题的关键。但是还是有一种似曾相识的感觉。在“初等函数连续性”一节中有一个类似的例题。

$$\lim\limits_{x\rarr 0}\frac{a^x-1}{x}$$

令 $a^x-1 = t$ ，则有 $x=log_a(t+1)$ ，又因为 $x\rarr 0$ ，则有 $t\rarr 0$ ，所以上面的极限可以转换为：
$$\lim\limits_{t\rarr 0}\frac{t}{log_a(t+1)} = \lim\limits_{t\rarr 0}\frac{1}{\frac{1}{t}log_a(t+1)} = \lim\limits_{t\rarr 0}\frac{1}{log_a(t+1)^{\frac{1}{t}}}$$
经过这个变换之后，就更眼熟了。两个重要极限之一是：
$$\lim\limits_{x\rarr \infty}(1+\frac{1}{x})^x = e$$

$$\lim\limits_{x\rarr 0}\frac{1}{log_a(t+1)^{\frac{1}{t}}} = \frac{1}{log_ae}=\frac{1}{\frac{lne}{lna}}=lna$$

这里
$$\frac{1}{log_ae}=\frac{1}{\frac{lne}{lna}}$$ 用到了换底公式：$$log_ab=\frac{lnb}{lna}$$

如果不纠结重要极限的由来，到这里就可以往前回溯了。

$$(a^x)'=a^x\lim\limits_{h\rarr 0}\frac{a^h-1}{h} = a^xlna$$

因此$(a^y)'=a^ylna$，再由反函数求导法则有 $$log_ax=\frac{1}{a^ylna}$$ 再由 $x=a^y$

所以 $$(log_ax)'=\frac{1}{xlna}$$

到这里基本上也就结束了，但是重要极限之一：

$$\lim\limits_{x\rarr \infty}(1+\frac{1}{x})^x = e$$
为什么它就等于 $e$ 了？它的极限怎么来的？
